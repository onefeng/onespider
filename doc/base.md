# 爬虫程序架构

目前主要是以下模块及功能
## 下载器
一个下载进程，在请求队列中，将请求下载为响应到响应队列中\
当请求失败则会 当请求失败则会重新加入到请求队列中重新加入到请求队列中\
必要时会涉及到ip池及cookie池
## 解析器
解析的内容放入结果队列，将新的请求加入到请求队列。
## 结果处理器
- 对内容进行处理，如将不同类型的解析内容进行拼接。然后存入数据库
- 需要支持多种数据格式的输出,postgresql,mysql,mongodb,csv,json
- 对不同数据内容进行分表存储
## ip代理及cookies随机切换
1. 是否需要ip代理在构造请求时设置
2. 当请求失败时切换代理
3. 在构造请求时每个cookies请求随机切换

## 去重队列
单机只对解析器产生的请求去重。
- redis的set集合
- Bloom Filter过滤器(暂未开发)
- RabbitMQ(未开发)

## 开发计划

1. 先实现单机的一个爬虫项目
2. 实现单机多个爬虫项目
3. 多机器多爬虫项目

## 项目修改
- 注释规范
- 程序简化
